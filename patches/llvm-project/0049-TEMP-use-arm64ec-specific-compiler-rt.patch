From 236f50e1509532cf140b68f25d21198e217e5f87 Mon Sep 17 00:00:00 2001
From: Billy Laws <blaws05@gmail.com>
Date: Wed, 18 Oct 2023 21:15:15 +0100
Subject: [PATCH 49/56] TEMP: use arm64ec specific compiler-rt

---
 clang/lib/Driver/ToolChain.cpp | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/clang/lib/Driver/ToolChain.cpp b/clang/lib/Driver/ToolChain.cpp
index 85ae4d2a26fe..6c5968cc2e79 100644
--- a/clang/lib/Driver/ToolChain.cpp
+++ b/clang/lib/Driver/ToolChain.cpp
@@ -595,6 +595,9 @@ static StringRef getArchNameForCompilerRTLib(const ToolChain &TC,
   if (TC.getArch() == llvm::Triple::x86_64 && Triple.isX32())
     return "x32";
 
+  if (Triple.isWindowsArm64EC())
+    return "arm64ec";
+
   return llvm::Triple::getArchTypeName(TC.getArch());
 }
 
-- 
2.25.1

